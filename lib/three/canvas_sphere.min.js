<script src="\assets\js\APlayer.min.js"> </script>$(function(){var SCREEN_WIDTH=window.innerWidth,SCREEN_HEIGHT=window.innerHeight,mouseX=0,mouseY=0,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,SEPARATION=200,AMOUNTX=10,AMOUNTY=10,camera,scene,renderer;init();animate();function init(){var container,separation=100,amountX=50,amountY=50,particles,particle;container=document.createElement("div");container.style.position="fixed";container.style.top="0px";container.style.left="0px";container.style.zIndex="-1";container.style.opacity="0.5";document.body.appendChild(container);camera=new THREE.PerspectiveCamera(75,SCREEN_WIDTH/SCREEN_HEIGHT,1,10000);camera.position.z=1000;scene=new THREE.Scene();renderer=new THREE.CanvasRenderer();renderer.setClearColor(16119801,0);renderer.setPixelRatio(window.devicePixelRatio);renderer.setSize(SCREEN_WIDTH,SCREEN_HEIGHT);container.appendChild(renderer.domElement);var PI2=Math.PI*2;var material=new THREE.SpriteCanvasMaterial({color:10263708,program:function(context){context.beginPath();context.arc(0,0,0.5,0,PI2,true);context.fill()}});for(var i=0;i<1000;i++){particle=new three.sprite(material);particle.position.x="Math.random()*2-1;particle.position.y=Math.random()*2-1;particle.position.z=Math.random()*2-1;particle.position.normalize();particle.position.multiplyScalar(Math.random()*10+450);particle.scale.multiplyScalar(2);scene.add(particle)}for(var" i="0;i<300;i++){var" geometry="new" three.geometry();var="" vertex="new" three.vector3(math.random()*2-1,math.random()*2-1,math.random()*2-1);vertex.normalize();vertex.multiplyscalar(450);geometry.vertices.push(vertex);var="" vertex2="vertex.clone();vertex2.multiplyScalar(Math.random()*0.3+1);geometry.vertices.push(vertex2);var" line="new" three.line(geometry,new="" three.linebasicmaterial({color:10263708,opacity:math.random()}));scene.add(line)}document.addeventlistener("mousemove",ondocumentmousemove,false);document.addeventlistener("touchstart",ondocumenttouchstart,false);document.addeventlistener("touchmove",ondocumenttouchmove,false);window.addeventlistener("resize",onwindowresize,false)="" }function="" onwindowresize(){windowhalfx="window.innerWidth/2;windowHalfY=window.innerHeight/2;camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight)}function" ondocumentmousemove(event){mousex="event.clientX-windowHalfX;mouseY=event.clientY-windowHalfY}function" ondocumenttouchstart(event){if(event.touches.length="">1){mouseX=event.touches[0].pageX-windowHalfX}}function onDocumentTouchMove(event){if(event.touches.length==1){mouseX=event.touches[0].pageX-windowHalfX}}function animate(){requestAnimationFrame(animate);render()}function render(){camera.position.x+=(mouseX-camera.position.x)*0.05;camera.position.y+=(-mouseY+200-camera.position.y)*0.05;camera.lookAt(scene.position);renderer.render(scene,camera)}});
THREE.RenderableObject=function(){this.id=0;this.object=null;this.z=0;this.renderOrder=0};THREE.RenderableFace=function(){this.id=0;this.v1=new THREE.RenderableVertex();this.v2=new THREE.RenderableVertex();this.v3=new THREE.RenderableVertex();this.normalModel=new THREE.Vector3();this.vertexNormalsModel=[new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3()];this.vertexNormalsLength=0;this.color=new THREE.Color();this.material=null;this.uvs=[new THREE.Vector2(),new THREE.Vector2(),new THREE.Vector2()];this.z=0;this.renderOrder=0};THREE.RenderableVertex=function(){this.position=new THREE.Vector3();this.positionWorld=new THREE.Vector3();this.positionScreen=new THREE.Vector4();this.visible=true};THREE.RenderableVertex.prototype.copy=function(vertex){this.positionWorld.copy(vertex.positionWorld);this.positionScreen.copy(vertex.positionScreen)};THREE.RenderableLine=function(){this.id=0;this.v1=new THREE.RenderableVertex();this.v2=new THREE.RenderableVertex();this.vertexColors=[new THREE.Color(),new THREE.Color()];this.material=null;this.z=0;this.renderOrder=0};THREE.RenderableSprite=function(){this.id=0;this.object=null;this.x=0;this.y=0;this.z=0;this.rotation=0;this.scale=new THREE.Vector2();this.material=null;this.renderOrder=0};THREE.Projector=function(){var _object,_objectCount,_objectPool=[],_objectPoolLength=0,_vertex,_vertexCount,_vertexPool=[],_vertexPoolLength=0,_face,_faceCount,_facePool=[],_facePoolLength=0,_line,_lineCount,_linePool=[],_linePoolLength=0,_sprite,_spriteCount,_spritePool=[],_spritePoolLength=0,_renderData={objects:[],lights:[],elements:[]},_vector3=new THREE.Vector3(),_vector4=new THREE.Vector4(),_clipBox=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),_boundingBox=new THREE.Box3(),_points3=new Array(3),_points4=new Array(4),_viewMatrix=new THREE.Matrix4(),_viewProjectionMatrix=new THREE.Matrix4(),_modelMatrix,_modelViewProjectionMatrix=new THREE.Matrix4(),_normalMatrix=new THREE.Matrix3(),_frustum=new THREE.Frustum(),_clippedVertex1PositionScreen=new THREE.Vector4(),_clippedVertex2PositionScreen=new THREE.Vector4();
this.projectVector=function(vector,camera){console.warn("THREE.Projector: .projectVector() is now vector.project().");vector.project(camera)};this.unprojectVector=function(vector,camera){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");vector.unproject(camera)};this.pickingRay=function(vector,camera){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")};var RenderList=function(){var normals=[];var uvs=[];var object=null;var material=null;var normalMatrix=new THREE.Matrix3();function setObject(value){object=value;material=object.material;normalMatrix.getNormalMatrix(object.matrixWorld);normals.length=0;uvs.length=0}function projectVertex(vertex){var position=vertex.position;var positionWorld=vertex.positionWorld;var positionScreen=vertex.positionScreen;positionWorld.copy(position).applyMatrix4(_modelMatrix);positionScreen.copy(positionWorld).applyMatrix4(_viewProjectionMatrix);var invW=1/positionScreen.w;positionScreen.x*=invW;positionScreen.y*=invW;positionScreen.z*=invW;vertex.visible=positionScreen.x>=-1&&positionScreen.x<=1&&positionscreen.y>=-1&&positionScreen.y<=1&&positionscreen.z>=-1&&positionScreen.z<=1}function pushvertex(x,y,z){_vertex="getNextVertexInPool();_vertex.position.set(x,y,z);projectVertex(_vertex)}function" pushnormal(x,y,z){normals.push(x,y,z)}function="" pushuv(x,y){uvs.push(x,y)}function="" checktrianglevisibility(v1,v2,v3){if(v1.visible="==true||v2.visible===true||v3.visible===true){return" true}_points3[0]="v1.positionScreen;_points3[1]=v2.positionScreen;_points3[2]=v3.positionScreen;return" _clipbox.intersectsbox(_boundingbox.setfrompoints(_points3))}function="" checkbackfaceculling(v1,v2,v3){return((v3.positionscreen.x-v1.positionscreen.x)*(v2.positionscreen.y-v1.positionscreen.y)-(v3.positionscreen.y-v1.positionscreen.y)*(v2.positionscreen.x-v1.positionscreen.x))<0}function="" pushline(a,b){var="" v1="_vertexPool[a];var" v2="_vertexPool[b];_line=getNextLineInPool();_line.id=object.id;_line.v1.copy(v1);_line.v2.copy(v2);" _line.z="(v1.positionScreen.z+v2.positionScreen.z)/2;_line.renderOrder=object.renderOrder;_line.material=object.material;_renderData.elements.push(_line)}function" pushtriangle(a,b,c){var="" v3="_vertexPool[c];if(checkTriangleVisibility(v1,v2,v3)===false){return}if(material.side===THREE.DoubleSide||checkBackfaceCulling(v1,v2,v3)===true){_face=getNextFaceInPool();_face.id=object.id;_face.v1.copy(v1);_face.v2.copy(v2);_face.v3.copy(v3);_face.z=(v1.positionScreen.z+v2.positionScreen.z+v3.positionScreen.z)/3;_face.renderOrder=object.renderOrder;_face.normalModel.fromArray(normals,a*3);_face.normalModel.applyMatrix3(normalMatrix).normalize();for(var" i="0;i<3;i++){var" normal="_face.vertexNormalsModel[i];normal.fromArray(normals,arguments[i]*3);normal.applyMatrix3(normalMatrix).normalize();var" uv="_face.uvs[i];uv.fromArray(uvs,arguments[i]*2)}_face.vertexNormalsLength=3;_face.material=object.material;_renderData.elements.push(_face)}}return{setObject:setObject,projectVertex:projectVertex,checkTriangleVisibility:checkTriangleVisibility,checkBackfaceCulling:checkBackfaceCulling,pushVertex:pushVertex,pushNormal:pushNormal,pushUv:pushUv,pushLine:pushLine,pushTriangle:pushTriangle}};var" renderlist="new" renderlist();this.projectscene="function(scene,camera,sortObjects,sortElements){_faceCount=0;_lineCount=0;_spriteCount=0;_renderData.elements.length=0;if(scene.autoUpdate===true){scene.updateMatrixWorld()}if(camera.parent===null){camera.updateMatrixWorld()}_viewMatrix.copy(camera.matrixWorldInverse.getInverse(camera.matrixWorld));_viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix,_viewMatrix);_frustum.setFromMatrix(_viewProjectionMatrix);_objectCount=0;_renderData.objects.length=0;_renderData.lights.length=0;function" addobject(object){_object="getNextObjectInPool();_object.id=object.id;_object.object=object;_vector3.setFromMatrixPosition(object.matrixWorld);_vector3.applyMatrix4(_viewProjectionMatrix);_object.z=_vector3.z;_object.renderOrder=object.renderOrder;" _renderdata.objects.push(_object)}scene.traversevisible(function(object){if(object="" instanceof="" three.light){_renderdata.lights.push(object)}else{if(object="" three.mesh||object="" three.line){if(object.material.visible="==false){return}if(object.frustumCulled===true&&_frustum.intersectsObject(object)===false){return}addObject(object)}else{if(object" three.sprite){if(object.material.visible="==false){return}if(object.frustumCulled===true&&_frustum.intersectsSprite(object)===false){return}addObject(object)}}}});if(sortObjects===true){_renderData.objects.sort(painterSort)}for(var" o="0,ol=_renderData.objects.length;o<ol;o++){var" object="_renderData.objects[o].object;var" geometry="object.geometry;renderList.setObject(object);_modelMatrix=object.matrixWorld;_vertexCount=0;if(object" three.mesh){if(geometry="" three.buffergeometry){var="" attributes="geometry.attributes;var" groups="geometry.groups;if(attributes.position===undefined){continue}var" positions="attributes.position.array;for(var" normals="attributes.normal.array;for(var" uvs="attributes.uv.array;for(var" indices="geometry.index.array;if(groups.length">0){for(var g=0;g<groups.length;g++){var group="groups[g];for(var" i="group.start,l=group.start+group.count;i<l;i+=3){renderList.pushTriangle(indices[i],indices[i+1],indices[i+2])}}}else{for(var" instanceof="" three.geometry){var="" vertices="geometry.vertices;var" faces="geometry.faces;var" facevertexuvs="geometry.faceVertexUvs[0];" _normalmatrix.getnormalmatrix(_modelmatrix);var="" material="object.material;var" isfacematerial="material" three.multimaterial;var="" objectmaterials="isFaceMaterial===true?object.material:null;for(var" v="0,vl=vertices.length;v<vl;v++){var" vertex="vertices[v];_vector3.copy(vertex);if(material.morphTargets===true){var" morphtargets="geometry.morphTargets;var" morphinfluences="object.morphTargetInfluences;for(var" t="0,tl=morphTargets.length;t<tl;t++){var" influence="morphInfluences[t];if(influence===0){continue}var" target="morphTargets[t];var" targetvertex="target.vertices[v];_vector3.x+=(targetVertex.x-vertex.x)*influence;_vector3.y+=(targetVertex.y-vertex.y)*influence;_vector3.z+=(targetVertex.z-vertex.z)*influence}}renderList.pushVertex(_vector3.x,_vector3.y,_vector3.z)}for(var" f="0,fl=faces.length;f<fl;f++){var" face="faces[f];material=isFaceMaterial===true?objectMaterials.materials[face.materialIndex]:object.material;if(material===undefined){continue}var" side="material.side;var" v1="_vertexPool[face.a];var" v2="_vertexPool[face.b];var" v3="_vertexPool[face.c];if(renderList.checkTriangleVisibility(v1,v2,v3)===false){continue}var" visible="renderList.checkBackfaceCulling(v1,v2,v3);if(side!==THREE.DoubleSide){if(side===THREE.FrontSide&&visible===false){continue}if(side===THREE.BackSide&&visible===true){continue}}_face=getNextFaceInPool();_face.id=object.id;_face.v1.copy(v1);_face.v2.copy(v2);_face.v3.copy(v3);_face.normalModel.copy(face.normal);if(visible===false&&(side===THREE.BackSide||side===THREE.DoubleSide)){_face.normalModel.negate()}_face.normalModel.applyMatrix3(_normalMatrix).normalize();var" facevertexnormals="face.vertexNormals;for(var" n="0,nl=Math.min(faceVertexNormals.length,3);n<nl;n++){var" normalmodel="_face.vertexNormalsModel[n];normalModel.copy(faceVertexNormals[n]);if(visible===false&&(side===THREE.BackSide||side===THREE.DoubleSide)){normalModel.negate()}normalModel.applyMatrix3(_normalMatrix).normalize()}_face.vertexNormalsLength=faceVertexNormals.length;var" vertexuvs="faceVertexUvs[f];" if(vertexuvs!="=undefined){for(var" u="0;u<3;u++){_face.uvs[u].copy(vertexUvs[u])}}_face.color=face.color;_face.material=material;_face.z=(v1.positionScreen.z+v2.positionScreen.z+v3.positionScreen.z)/3;_face.renderOrder=object.renderOrder;_renderData.elements.push(_face)}}}}else{if(object" three.line){if(geometry="" three.buffergeometry){var="" attributes="geometry.attributes;if(attributes.position!==undefined){var" positions="attributes.position.array;for(var" indices="geometry.index.array;for(var" step="object" three.linesegments?2:1;for(var="" three.geometry){_modelviewprojectionmatrix.multiplymatrices(_viewprojectionmatrix,_modelmatrix);var="">0){continue}v2=_vertexPool[_vertexCount-2];_clippedVertex1PositionScreen.copy(v1.positionScreen);_clippedVertex2PositionScreen.copy(v2.positionScreen);if(clipLine(_clippedVertex1PositionScreen,_clippedVertex2PositionScreen)===true){_clippedVertex1PositionScreen.multiplyScalar(1/_clippedVertex1PositionScreen.w);_clippedVertex2PositionScreen.multiplyScalar(1/_clippedVertex2PositionScreen.w);_line=getNextLineInPool();_line.id=object.id;_line.v1.positionScreen.copy(_clippedVertex1PositionScreen);_line.v2.positionScreen.copy(_clippedVertex2PositionScreen);_line.z=Math.max(_clippedVertex1PositionScreen.z,_clippedVertex2PositionScreen.z);_line.renderOrder=object.renderOrder;
_line.material=object.material;if(object.material.vertexColors===THREE.VertexColors){_line.vertexColors[0].copy(object.geometry.colors[v]);_line.vertexColors[1].copy(object.geometry.colors[v-1])}_renderData.elements.push(_line)}}}}}else{if(object instanceof THREE.Sprite){_vector4.set(_modelMatrix.elements[12],_modelMatrix.elements[13],_modelMatrix.elements[14],1);_vector4.applyMatrix4(_viewProjectionMatrix);var invW=1/_vector4.w;_vector4.z*=invW;if(_vector4.z>=-1&&_vector4.z<=1){_sprite=getnextspriteinpool();_sprite.id=object.id;_sprite.x=_vector4.x*invw;_sprite.y=_vector4.y*invw;_sprite.z=_vector4.z;_sprite.renderorder=object.renderorder;_sprite.object=object;_sprite.rotation=object.rotation;_sprite.scale.x=object.scale.x*math.abs(_sprite.x-(_vector4.x+camera.projectionmatrix.elements[0]) (_vector4.w+camera.projectionmatrix.elements[12]));_sprite.scale.y="object.scale.y*Math.abs(_sprite.y-(_vector4.y+camera.projectionMatrix.elements[5])/(_vector4.w+camera.projectionMatrix.elements[13]));_sprite.material=object.material;_renderData.elements.push(_sprite)}}}}}if(sortElements===true){_renderData.elements.sort(painterSort)}return" _renderdata};function="" getnextobjectinpool(){if(_objectcount="==_objectPoolLength){var" object="new" three.renderableobject();_objectpool.push(object);_objectpoollength++;_objectcount++;return="" object}return="" _objectpool[_objectcount++]}function="" getnextvertexinpool(){if(_vertexcount="==_vertexPoolLength){var" vertex="new" three.renderablevertex();_vertexpool.push(vertex);_vertexpoollength++;_vertexcount++;return="" vertex}return="" _vertexpool[_vertexcount++]}function="" getnextfaceinpool(){if(_facecount="==_facePoolLength){var" face="new" three.renderableface();_facepool.push(face);_facepoollength++;_facecount++;return="" face}return="" _facepool[_facecount++]}function="" getnextlineinpool(){if(_linecount="==_linePoolLength){var" line="new" three.renderableline();_linepool.push(line);_linepoollength++;_linecount++;return="" line}return="" _linepool[_linecount++]}function="" getnextspriteinpool(){if(_spritecount="==_spritePoolLength){var" sprite="new" three.renderablesprite();="" _spritepool.push(sprite);_spritepoollength++;_spritecount++;return="" sprite}return="" _spritepool[_spritecount++]}function="" paintersort(a,b){if(a.renderorder!="=b.renderOrder){return" a.renderorder-b.renderorder}else{if(a.z!="=b.z){return" b.z-a.z}else{if(a.id!="=b.id){return" a.id-b.id}else{return="" 0}}}}function="" clipline(s1,s2){var="" alpha1="0,alpha2=1,bc1near=s1.z+s1.w,bc2near=s2.z+s2.w,bc1far=-s1.z+s1.w,bc2far=-s2.z+s2.w;if(bc1near">=0&&bc2near>=0&&bc1far>=0&&bc2far>=0){return true}else{if((bc1near<0&&bc2near<0)||(bc1far<0&&bc2far<0)){return false}else{if(bc1near<0){alpha1="Math.max(alpha1,bc1near/(bc1near-bc2near))}else{if(bc2near<0){alpha2=Math.min(alpha2,bc1near/(bc1near-bc2near))}}if(bc1far<0){alpha1=Math.max(alpha1,bc1far/(bc1far-bc2far))}else{if(bc2far<0){alpha2=Math.min(alpha2,bc1far/(bc1far-bc2far))}}if(alpha2<alpha1){return" false}else{s1.lerp(s2,alpha1);s2.lerp(s1,1-alpha2);return="" true}}}}};="" three.spritecanvasmaterial="function(parameters){THREE.Material.call(this);this.type="SpriteCanvasMaterial";this.color=new" three.color(16777215);this.program="function(context,color){};this.setValues(parameters)};THREE.SpriteCanvasMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteCanvasMaterial.prototype.constructor=THREE.SpriteCanvasMaterial;THREE.SpriteCanvasMaterial.prototype.clone=function(){var" material="new" three.spritecanvasmaterial();material.copy(this);material.color.copy(this.color);material.program="this.program;return" material};three.canvasrenderer="function(parameters){console.log("THREE.CanvasRenderer",THREE.REVISION);parameters=parameters||{};var" _this="this,_renderData,_elements,_lights,_projector=new" three.projector(),_canvas="parameters.canvas!==undefined?parameters.canvas:document.createElement("canvas"),_canvasWidth=_canvas.width,_canvasHeight=_canvas.height,_canvasWidthHalf=Math.floor(_canvasWidth/2),_canvasHeightHalf=Math.floor(_canvasHeight/2),_viewportX=0,_viewportY=0,_viewportWidth=_canvasWidth,_viewportHeight=_canvasHeight,_pixelRatio=1,_context=_canvas.getContext("2d",{alpha:parameters.alpha===true}),_clearColor=new" three.color(0),_clearalpha="parameters.alpha===true?0:1,_contextGlobalAlpha=1,_contextGlobalCompositeOperation=0,_contextStrokeStyle=null,_contextFillStyle=null,_contextLineWidth=null,_contextLineCap=null,_contextLineJoin=null,_contextLineDash=[],_camera,_v1,_v2,_v3,_v4,_v5=new" three.renderablevertex(),_v6="new" three.renderablevertex(),_v1x,_v1y,_v2x,_v2y,_v3x,_v3y,_v4x,_v4y,_v5x,_v5y,_v6x,_v6y,_color="new" three.color(),_color1="new" three.color(),_color2="new" three.color(),_color3="new" three.color(),_color4="new" three.color(),_diffusecolor="new" three.color(),_emissivecolor="new" three.color(),_lightcolor="new" three.color(),_patterns="{},_image,_uvs,_uv1x,_uv1y,_uv2x,_uv2y,_uv3x,_uv3y,_clipBox=new" three.box2(),_clearbox="new" three.box2(),_elembox="new" three.box2(),_ambientlight="new" three.color(),_directionallights="new" three.color(),_pointlights="new" three.color(),_vector3="new" three.vector3(),_centroid="new" three.vector3(),_normal="new" three.vector3(),_normalviewmatrix="new" three.matrix3();="" if(_context.setlinedash="==undefined){_context.setLineDash=function(){}}this.domElement=_canvas;this.autoClear=true;this.sortObjects=true;this.sortElements=true;this.info={render:{vertices:0,faces:0}};this.supportsVertexTextures=function(){};this.setFaceCulling=function(){};this.getContext=function(){return" _context};this.getcontextattributes="function(){return" _context.getcontextattributes()};this.getpixelratio="function(){return" _pixelratio};this.setpixelratio="function(value){if(value!==undefined){_pixelRatio=value}};this.setSize=function(width,height,updateStyle){_canvasWidth=width*_pixelRatio;_canvasHeight=height*_pixelRatio;_canvas.width=_canvasWidth;_canvas.height=_canvasHeight;_canvasWidthHalf=Math.floor(_canvasWidth/2);_canvasHeightHalf=Math.floor(_canvasHeight/2);if(updateStyle!==false){_canvas.style.width=width+"px";_canvas.style.height=height+"px"}_clipBox.min.set(-_canvasWidthHalf,-_canvasHeightHalf);_clipBox.max.set(_canvasWidthHalf,_canvasHeightHalf);_clearBox.min.set(-_canvasWidthHalf,-_canvasHeightHalf);_clearBox.max.set(_canvasWidthHalf,_canvasHeightHalf);_contextGlobalAlpha=1;_contextGlobalCompositeOperation=0;_contextStrokeStyle=null;_contextFillStyle=null;_contextLineWidth=null;_contextLineCap=null;_contextLineJoin=null;this.setViewport(0,0,width,height)};this.setViewport=function(x,y,width,height){_viewportX=x*_pixelRatio;_viewportY=y*_pixelRatio;_viewportWidth=width*_pixelRatio;_viewportHeight=height*_pixelRatio};this.setScissor=function(){};this.setScissorTest=function(){};this.setClearColor=function(color,alpha){_clearColor.set(color);_clearAlpha=alpha!==undefined?alpha:1;_clearBox.min.set(-_canvasWidthHalf,-_canvasHeightHalf);_clearBox.max.set(_canvasWidthHalf,_canvasHeightHalf)};this.setClearColorHex=function(hex,alpha){console.warn("THREE.CanvasRenderer:" .setclearcolorhex()="" is="" being="" removed.="" use="" .setclearcolor()="" instead.");this.setclearcolor(hex,alpha)};this.getclearcolor="function(){return" _clearcolor};this.getclearalpha="function(){return" _clearalpha="" };this.getmaxanisotropy="function(){return" 0};this.clear="function(){if(_clearBox.isEmpty()===false){_clearBox.intersect(_clipBox);_clearBox.expandByScalar(2);_clearBox.min.x=_clearBox.min.x+_canvasWidthHalf;_clearBox.min.y=-_clearBox.min.y+_canvasHeightHalf;_clearBox.max.x=_clearBox.max.x+_canvasWidthHalf;_clearBox.max.y=-_clearBox.max.y+_canvasHeightHalf;if(_clearAlpha<1){_context.clearRect(_clearBox.min.x|0,_clearBox.max.y|0,(_clearBox.max.x-_clearBox.min.x)|0,(_clearBox.min.y-_clearBox.max.y)|0)}if(_clearAlpha">0){setBlending(THREE.NormalBlending);setOpacity(1);setFillStyle("rgba("+Math.floor(_clearColor.r*255)+","+Math.floor(_clearColor.g*255)+","+Math.floor(_clearColor.b*255)+","+_clearAlpha+")");_context.fillRect(_clearBox.min.x|0,_clearBox.max.y|0,(_clearBox.max.x-_clearBox.min.x)|0,(_clearBox.min.y-_clearBox.max.y)|0)}_clearBox.makeEmpty()}};this.clearColor=function(){};this.clearDepth=function(){};this.clearStencil=function(){};this.render=function(scene,camera){if(camera instanceof THREE.Camera===false){console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.");return}var background=scene.background;if(background&&background.isColor){setFillStyle("rgb("+Math.floor(background.r*255)+","+Math.floor(background.g*255)+","+Math.floor(background.b*255)+")");_context.fillRect(0,0,_canvasWidth,_canvasHeight)}else{if(this.autoClear===true){this.clear()}}_this.info.render.vertices=0;_this.info.render.faces=0;_context.setTransform(_viewportWidth/_canvasWidth,0,0,-_viewportHeight/_canvasHeight,_viewportX,_canvasHeight-_viewportY);_context.translate(_canvasWidthHalf,_canvasHeightHalf);_renderData=_projector.projectScene(scene,camera,this.sortObjects,this.sortElements);_elements=_renderData.elements;_lights=_renderData.lights;_camera=camera;_normalViewMatrix.getNormalMatrix(camera.matrixWorldInverse);calculateLights();for(var e=0,el=_elements.length;e<el;e++){var element="_elements[e];var" material="element.material;if(material===undefined||material.opacity===0){continue" }_elembox.makeempty();if(element="" instanceof="" three.renderablesprite){_v1="element;_v1.x*=_canvasWidthHalf;_v1.y*=_canvasHeightHalf;renderSprite(_v1,element,material)}else{if(element" three.renderableline){_v1="element.v1;_v2=element.v2;_v1.positionScreen.x*=_canvasWidthHalf;_v1.positionScreen.y*=_canvasHeightHalf;_v2.positionScreen.x*=_canvasWidthHalf;_v2.positionScreen.y*=_canvasHeightHalf;_elemBox.setFromPoints([_v1.positionScreen,_v2.positionScreen]);if(_clipBox.intersectsBox(_elemBox)===true){renderLine(_v1,_v2,element,material)}}else{if(element" three.renderableface){_v1="element.v1;_v2=element.v2;_v3=element.v3;if(_v1.positionScreen.z<-1||_v1.positionScreen.z">1){continue}if(_v2.positionScreen.z<-1||_v2.positionscreen.z>1){continue}if(_v3.positionScreen.z<-1||_v3.positionscreen.z>1){continue}_v1.positionScreen.x*=_canvasWidthHalf;_v1.positionScreen.y*=_canvasHeightHalf;_v2.positionScreen.x*=_canvasWidthHalf;_v2.positionScreen.y*=_canvasHeightHalf;_v3.positionScreen.x*=_canvasWidthHalf;_v3.positionScreen.y*=_canvasHeightHalf;if(material.overdraw>0){expand(_v1.positionScreen,_v2.positionScreen,material.overdraw);expand(_v2.positionScreen,_v3.positionScreen,material.overdraw);expand(_v3.positionScreen,_v1.positionScreen,material.overdraw)}_elemBox.setFromPoints([_v1.positionScreen,_v2.positionScreen,_v3.positionScreen]);if(_clipBox.intersectsBox(_elemBox)===true){renderFace3(_v1,_v2,_v3,0,1,2,element,material)}}}}_clearBox.union(_elemBox)}_context.setTransform(1,0,0,1,0,0)};function calculateLights(){_ambientLight.setRGB(0,0,0);_directionalLights.setRGB(0,0,0);_pointLights.setRGB(0,0,0);for(var l=0,ll=_lights.length;l</-1||_v3.positionscreen.z></-1||_v2.positionscreen.z></el;e++){var></0&&bc2near<0)||(bc1far<0&&bc2far<0)){return></=1){_sprite=getnextspriteinpool();_sprite.id=object.id;_sprite.x=_vector4.x*invw;_sprite.y=_vector4.y*invw;_sprite.z=_vector4.z;_sprite.renderorder=object.renderorder;_sprite.object=object;_sprite.rotation=object.rotation;_sprite.scale.x=object.scale.x*math.abs(_sprite.x-(_vector4.x+camera.projectionmatrix.elements[0])></groups.length;g++){var></=1}function></=1&&positionscreen.z></=1&&positionscreen.y></1000;i++){particle=new>